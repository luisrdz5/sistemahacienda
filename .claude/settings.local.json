{
  "permissions": {
    "allow": [
      "Bash(claude init:*)",
      "Bash(tree:*)",
      "Bash(docker-compose up:*)",
      "Bash(npm install:*)",
      "Bash(wc:*)",
      "Bash(git -C /Users/luisrodriguez/Documents/labs/hacienda log --oneline)",
      "Bash(grep:*)",
      "Bash(docker-compose:*)",
      "Bash(npx sequelize-cli:*)",
      "Bash(npm run dev:*)",
      "Bash(cat:*)",
      "Bash(npm start)",
      "Bash(curl:*)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2NTk5OTE4OSwiZXhwIjoxNzY2NjAzOTg5fQ.CYEashkd47e1E5xQTCfPYKVvJE1x3y3yD2HruCChGcc\")",
      "Bash(python3:*)",
      "WebFetch(domain:localhost)",
      "Bash(echo \"=== 1. Cargar empleados (como hace la página) ===\" curl -s http://localhost:3001/api/empleados -H \"Authorization: Bearer $TOKEN\")",
      "Bash(echo -e \"\\n=== 2. Cargar sucursales (para el dropdown) ===\" curl -s http://localhost:3001/api/sucursales -H \"Authorization: Bearer $TOKEN\")",
      "Bash(echo -e \"\\n=== 3. Crear empleado nuevo ===\" curl -s http://localhost:3001/api/empleados -X POST -H \"Authorization: Bearer $TOKEN\" -H \"Content-Type: application/json\" -d '{\"\"\"\"nombre\"\"\"\":\"\"\"\"Empleado Test\"\"\"\",\"\"\"\"sucursalId\"\"\"\":1}')",
      "Bash(echo -e \"\\n\\n=== 4. Verificar empleado creado ===\" curl -s http://localhost:3001/api/empleados/8 -H \"Authorization: Bearer $TOKEN\")",
      "Bash(echo -e \"\\n\\n=== 5. Editar empleado ===\" curl -s http://localhost:3001/api/empleados/8 -X PUT -H \"Authorization: Bearer $TOKEN\" -H \"Content-Type: application/json\" -d '{\"\"\"\"nombre\"\"\"\":\"\"\"\"Empleado Test Editado\"\"\"\"}')",
      "Bash(echo -e \"\\n\\n=== 6. Eliminar (desactivar) empleado ===\" curl -s http://localhost:3001/api/empleados/8 -X DELETE -H \"Authorization: Bearer $TOKEN\")",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2NTk5OTE4OSwiZXhwIjoxNzY2NjAzOTg5fQ.CYEashkd47e1E5xQTCfPYKVvJE1x3y3yD2HruCChGcc\" curl -s http://localhost:3001/api/dashboard/resumen-semanal -H \"Authorization: Bearer $TOKEN\")",
      "Bash(docker:*)",
      "Bash(docker compose:*)",
      "Bash(echo:*)",
      "Bash(npm uninstall:*)",
      "Bash(dig:*)",
      "Bash(nslookup:*)",
      "Bash(host db.lyzgxbtxzzpfbfhqkkpe.supabase.co 8.8.8.8)",
      "Bash(host:*)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2NjAxOTczNSwiZXhwIjoxNzY2NjI0NTM1fQ.hN0312UTim2BzkPvYZ_45PZ6CBdE6fYPimuEP85wD_w\")",
      "Bash(lsof:*)",
      "Bash(chmod:*)",
      "Bash(ssh:*)",
      "Bash(rsync:*)",
      "Bash(/Users/luisrodriguez/Documents/labs/hacienda/ )",
      "Bash(ubuntu@78.13.85.34:~/hacienda/)",
      "Bash(/Users/luisrodriguez/Documents/labs/hacienda/frontend/src/components/layout/Layout.css )",
      "Bash(ubuntu@78.13.85.34:~/hacienda/frontend/src/components/layout/Layout.css)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2NjAyNzQyNiwiZXhwIjoxNzY2NjMyMjI2fQ.Gsbi-Ir9DJG2jsmi6Z9hndwNZIT-zejheSDqNoQ-07c\" curl -s \"https://lahacienda.online/api/dashboard/resumen-semanal\" -H \"Authorization: Bearer $TOKEN\")",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2NjAyNzQyNiwiZXhwIjoxNzY2NjMyMjI2fQ.Gsbi-Ir9DJG2jsmi6Z9hndwNZIT-zejheSDqNoQ-07c\" curl -s \"https://lahacienda.online/api/dashboard/auditoria?mes=12&anio=2025\" -H \"Authorization: Bearer $TOKEN\")",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2NjAyOTE0MCwiZXhwIjoxNzY2NjMzOTQwfQ.2Ut-QANw4RQhl4nGObLyniyB-3Z51tTtB-mwChtK8DM\" curl -s \"https://lahacienda.online/api/dashboard/auditoria?mes=12&anio=2025\" -H \"Authorization: Bearer $TOKEN\")",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2NjAyOTE0MCwiZXhwIjoxNzY2NjMzOTQwfQ.2Ut-QANw4RQhl4nGObLyniyB-3Z51tTtB-mwChtK8DM\")",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2NjAyOTE0MCwiZXhwIjoxNzY2NjMzOTQwfQ.2Ut-QANw4RQhl4nGObLyniyB-3Z51tTtB-mwChtK8DM\" curl -s \"https://lahacienda.online/api/dashboard/resumen-semanal?fechaInicio=2025-12-15\" -H \"Authorization: Bearer $TOKEN\")",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2NjAyOTE0MCwiZXhwIjoxNzY2NjMzOTQwfQ.2Ut-QANw4RQhl4nGObLyniyB-3Z51tTtB-mwChtK8DM\" curl -s \"https://lahacienda.online/api/dashboard/resumen-semanal?fechaInicio=2025-12-14\" -H \"Authorization: Bearer $TOKEN\")",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2NjAyOTE0MCwiZXhwIjoxNzY2NjMzOTQwfQ.2Ut-QANw4RQhl4nGObLyniyB-3Z51tTtB-mwChtK8DM\" curl -s \"http://localhost:3001/api/dashboard/resumen-semanal\" -H \"Authorization: Bearer $TOKEN\")",
      "Bash(node -e:*)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2Njg2Mzk5OSwiZXhwIjoxNzY3NDY4Nzk5fQ.DRvZzxpP05G39h5XUfF-PC52v5uY1FRCu2lSRIKuc5c\")",
      "Bash(__NEW_LINE__ echo \"=== 1. PRODUCTOS ===\")",
      "Bash(__NEW_LINE__ echo \"=== 2. CLIENTES ===\")",
      "Bash(__NEW_LINE__ echo \"\")",
      "Bash(__NEW_LINE__ echo \"=== 5. RESUMEN MENSUAL \\(Diciembre 2025\\) ===\")",
      "Bash(__NEW_LINE__ echo \"=== 6. RESUMEN ANUAL \\(2025\\) ===\")",
      "Bash(__NEW_LINE__ echo \"=== 7. CREAR CLIENTE ===\")",
      "Bash(__NEW_LINE__ echo \"=== 8. CREAR PEDIDO ===\")",
      "Bash(__NEW_LINE__ echo \"=== 9. MARCAR PEDIDO COMO ENTREGADO ===\")",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2Njg2Mzk5OSwiZXhwIjoxNzY3NDY4Nzk5fQ.DRvZzxpP05G39h5XUfF-PC52v5uY1FRCu2lSRIKuc5c\" echo \"=== Todos los cortes recientes \\(últimos 10\\) ===\" curl -s \"https://lahacienda.online/api/cortes?limit=20\" -H \"Authorization: Bearer $TOKEN\")",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2NjkwMDkyNywiZXhwIjoxNzY3NTA1NzI3fQ.t-WjAdB0BHeYSU0WxbN2zfzV_48pG5U91O-0Gi6IzVE\")",
      "Bash(for:*)",
      "Bash(do)",
      "Bash(done)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2NjkwMDkyNywiZXhwIjoxNzY3NTA1NzI3fQ.t-WjAdB0BHeYSU0WxbN2zfzV_48pG5U91O-0Gi6IzVE\" echo \"=== Todos los cortes creados el 28 de diciembre ===\" curl -s \"https://lahacienda.online/api/cortes\" -H \"Authorization: Bearer $TOKEN\")",
      "Bash(find:*)",
      "Bash(node fix-fechas.js:*)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2NjkwMDkyNywiZXhwIjoxNzY3NTA1NzI3fQ.t-WjAdB0BHeYSU0WxbN2zfzV_48pG5U91O-0Gi6IzVE\" echo \"=== Verificación final: Cortes del viernes 26 de diciembre ===\" curl -s \"https://lahacienda.online/api/cortes?fecha=2025-12-26\" -H \"Authorization: Bearer $TOKEN\")",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2NjkwMjQzOCwiZXhwIjoxNzY3NTA3MjM4fQ.ctEM2KAaLTcOP495bmVXnIIfbHGWs6Hjb3lOppe_e-0\":*)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2NzA3MzExNSwiZXhwIjoxNzY3Njc3OTE1fQ.7Zs0141wyEaaYeIaStZFm8r0XYIFNuc2uGjD_ySrAMw\")",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2NzA3MzExNSwiZXhwIjoxNzY3Njc3OTE1fQ.7Zs0141wyEaaYeIaStZFm8r0XYIFNuc2uGjD_ySrAMw\" curl:*)",
      "Bash(__NEW_LINE__ echo \"=== Semana 14-20 dic ===\")",
      "Bash(sleep 1 grep [DEBUG] /tmp/backend.log)",
      "Bash(open http://localhost:8080)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2NzA3MzExNSwiZXhwIjoxNzY3Njc3OTE1fQ.7Zs0141wyEaaYeIaStZFm8r0XYIFNuc2uGjD_ySrAMw\" curl -s \"http://localhost:3001/api/dashboard/auditoria?mes=12&anio=2025\" -H \"Authorization: Bearer $TOKEN\")",
      "Bash(TOKEN=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2NzA3NTQ5OCwiZXhwIjoxNzY3NjgwMjk4fQ.MC90YwAQg96xwjUiycWl5uB4ovRbp4yMs4V5e0HC7is curl -s \"http://localhost:3001/api/dashboard/auditoria?mes=12&anio=2025\" -H 'Authorization: Bearer $TOKEN' echo '=== Sucursales en auditoría ===' cat /tmp/audit.json)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2NzA3NTQ5OCwiZXhwIjoxNzY3NjgwMjk4fQ.MC90YwAQg96xwjUiycWl5uB4ovRbp4yMs4V5e0HC7is\" echo \"=== Estructura de auditoría ===\" curl -s \"http://localhost:3001/api/dashboard/auditoria?mes=12&anio=2025\" -H \"Authorization: Bearer $TOKEN\")",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2NzA3NTQ5OCwiZXhwIjoxNzY3NjgwMjk4fQ.MC90YwAQg96xwjUiycWl5uB4ovRbp4yMs4V5e0HC7is\" curl -s \"http://localhost:3001/api/dashboard/auditoria?mes=12&anio=2025\" -H \"Authorization: Bearer $TOKEN\")",
      "Bash(/bin/bash -c '\nTOKEN=$\\(cat /tmp/token.txt\\)\ncurl -s \"\"http://localhost:3001/api/dashboard/auditoria?mes=12&anio=2025\"\" -H \"\"Authorization: Bearer $TOKEN\"\" > /tmp/audit_new.json\npython3 << EOF\nimport json\nwith open\\(\"\"/tmp/audit_new.json\"\"\\) as f:\n    data = json.load\\(f\\)\n    stats = data.get\\(\"\"estadisticas\"\", {}\\)\n    print\\(\"\"=== ESTADISTICAS DE AUDITORIA \\(Dic 2025\\) ===\"\"\\)\n    print\\(f\"\"Ventas: {stats.get\\(\\\\\"\"totalVentas\\\\\"\", 0\\):,.0f}\"\"\\)\n    print\\(f\"\"Gastos: {stats.get\\(\\\\\"\"totalGastos\\\\\"\", 0\\):,.0f}\"\"\\)\n    print\\(f\"\"Utilidad Neta: {stats.get\\(\\\\\"\"utilidadNeta\\\\\"\", 0\\):,.0f}\"\"\\)\n    print\\(f\"\"Caja Chica: {stats.get\\(\\\\\"\"totalCajaChica\\\\\"\", 0\\):,.0f}\"\"\\)\n    print\\(f\"\"Ahorro: {stats.get\\(\\\\\"\"totalAhorro\\\\\"\", 0\\):,.0f}\"\"\\)\n    print\\(f\"\"Nomina: {stats.get\\(\\\\\"\"totalNomina\\\\\"\", 0\\):,.0f}\"\"\\)\n    print\\(f\"\"Gastos Globales: {stats.get\\(\\\\\"\"totalGastosGlobales\\\\\"\", 0\\):,.0f}\"\"\\)\nEOF\n')",
      "Bash(/bin/bash -c '\nTOKEN=$\\(cat /tmp/token.txt\\)\ncurl -s \"\"http://localhost:3001/api/dashboard/auditoria?mes=12&anio=2025\"\" -H \"\"Authorization: Bearer $TOKEN\"\" > /tmp/audit_new.json\npython3 << \"\"PYEOF\"\"\nimport json\nwith open\\(\"\"/tmp/audit_new.json\"\"\\) as f:\n    data = json.load\\(f\\)\n    stats = data.get\\(\"\"estadisticas\"\", {}\\)\n    print\\(\"\"=== ESTADISTICAS DE AUDITORIA \\(Dic 2025\\) ===\"\"\\)\n    print\\(\"\"Ventas:\"\", stats.get\\(\"\"totalVentas\"\", 0\\)\\)\n    print\\(\"\"Gastos:\"\", stats.get\\(\"\"totalGastos\"\", 0\\)\\)\n    print\\(\"\"Utilidad Neta:\"\", stats.get\\(\"\"utilidadNeta\"\", 0\\)\\)\n    print\\(\"\"Caja Chica:\"\", stats.get\\(\"\"totalCajaChica\"\", 0\\)\\)\n    print\\(\"\"Ahorro:\"\", stats.get\\(\"\"totalAhorro\"\", 0\\)\\)\n    print\\(\"\"Nomina:\"\", stats.get\\(\"\"totalNomina\"\", 0\\)\\)\n    print\\(\"\"Gastos Globales:\"\", stats.get\\(\"\"totalGastosGlobales\"\", 0\\)\\)\nPYEOF\n')",
      "Bash(/bin/bash -c '\ncurl -s http://localhost:3001/api/auth/login -X POST -H \"\"Content-Type: application/json\"\" -d \"\"{\\\\\"\"email\\\\\"\":\\\\\"\"admin@hacienda.com\\\\\"\",\\\\\"\"password\\\\\"\":\\\\\"\"admin123\\\\\"\"}\"\" | python3 -c \"\"import json,sys; print\\(json.load\\(sys.stdin\\)[\\\\\"\"token\\\\\"\"]\\)\"\" > /tmp/token.txt\nTOKEN=$\\(cat /tmp/token.txt\\)\ncurl -s \"\"http://localhost:3001/api/dashboard/auditoria?mes=12&anio=2025\"\" -H \"\"Authorization: Bearer $TOKEN\"\" > /tmp/audit_new.json\npython3 << \"\"PYEOF\"\"\nimport json\nwith open\\(\"\"/tmp/audit_new.json\"\"\\) as f:\n    data = json.load\\(f\\)\n    stats = data.get\\(\"\"estadisticas\"\", {}\\)\n    print\\(\"\"=== ESTADISTICAS CORREGIDAS \\(Dic 2025\\) ===\"\"\\)\n    print\\(\"\"Ventas:\"\", stats.get\\(\"\"totalVentas\"\", 0\\)\\)\n    print\\(\"\"Gastos:\"\", stats.get\\(\"\"totalGastos\"\", 0\\)\\)\n    print\\(\"\"Utilidad Neta:\"\", stats.get\\(\"\"utilidadNeta\"\", 0\\)\\)\n    print\\(\"\"Caja Chica:\"\", stats.get\\(\"\"totalCajaChica\"\", 0\\)\\)\n    print\\(\"\"Ahorro:\"\", stats.get\\(\"\"totalAhorro\"\", 0\\)\\)\n    print\\(\"\"Nomina:\"\", stats.get\\(\"\"totalNomina\"\", 0\\)\\)\n    print\\(\"\"Gastos Globales:\"\", stats.get\\(\"\"totalGastosGlobales\"\", 0\\)\\)\n    print\\(\\)\n    print\\(\"\"FORMULA:\"\"\\)\n    print\\(\"\"Utilidad Neta = Ventas - Gastos\"\"\\)\n    print\\(\"\"Caja Chica = Utilidad Neta - Ahorro\"\"\\)\nPYEOF\n')",
      "Bash(/bin/bash -c '\nTOKEN=$\\(cat /tmp/token.txt\\)\n\necho \"\"=== Semana 22-28 dic ===\"\"\ncurl -s \"\"http://localhost:3001/api/dashboard/resumen-semanal?fechaInicio=2025-12-22\"\" -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -c \"\"\nimport json,sys\ndata = json.load\\(sys.stdin\\)\nprint\\(\\\\\"\"Semana:\\\\\"\", data[\\\\\"\"semana\\\\\"\"][\\\\\"\"inicio\\\\\"\"], \\\\\"\"-\\\\\"\", data[\\\\\"\"semana\\\\\"\"][\\\\\"\"fin\\\\\"\"]\\)\ncaja = data[\\\\\"\"cajaChica\\\\\"\"]\nprint\\(\\\\\"\"Saldo Anterior:\\\\\"\", caja[\\\\\"\"saldoAnterior\\\\\"\"]\\)\nprint\\(\\\\\"\"Utilidad Semana:\\\\\"\", caja[\\\\\"\"utilidadSemana\\\\\"\"]\\)\nprint\\(\\\\\"\"Saldo Nuevo:\\\\\"\", caja[\\\\\"\"saldoNuevo\\\\\"\"]\\)\n\"\"\n\necho \"\"\"\"\necho \"\"=== Semana 15-21 dic ===\"\"\ncurl -s \"\"http://localhost:3001/api/dashboard/resumen-semanal?fechaInicio=2025-12-15\"\" -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -c \"\"\nimport json,sys\ndata = json.load\\(sys.stdin\\)\nprint\\(\\\\\"\"Semana:\\\\\"\", data[\\\\\"\"semana\\\\\"\"][\\\\\"\"inicio\\\\\"\"], \\\\\"\"-\\\\\"\", data[\\\\\"\"semana\\\\\"\"][\\\\\"\"fin\\\\\"\"]\\)\ncaja = data[\\\\\"\"cajaChica\\\\\"\"]\nprint\\(\\\\\"\"Saldo Anterior:\\\\\"\", caja[\\\\\"\"saldoAnterior\\\\\"\"]\\)\nprint\\(\\\\\"\"Utilidad Semana:\\\\\"\", caja[\\\\\"\"utilidadSemana\\\\\"\"]\\)\nprint\\(\\\\\"\"Saldo Nuevo:\\\\\"\", caja[\\\\\"\"saldoNuevo\\\\\"\"]\\)\n\"\"\n')",
      "Bash(/bin/bash -c '\n# Get new token\ncurl -s http://localhost:3001/api/auth/login -X POST -H \"\"Content-Type: application/json\"\" -d \"\"{\\\\\"\"email\\\\\"\":\\\\\"\"admin@hacienda.com\\\\\"\",\\\\\"\"password\\\\\"\":\\\\\"\"admin123\\\\\"\"}\"\" | python3 -c \"\"import json,sys; print\\(json.load\\(sys.stdin\\)[\\\\\"\"token\\\\\"\"]\\)\"\" > /tmp/token.txt\nTOKEN=$\\(cat /tmp/token.txt\\)\n\necho \"\"=== RESUMEN SEMANAL \\(22-28 dic\\) ===\"\"\ncurl -s \"\"http://localhost:3001/api/dashboard/resumen-semanal?fechaInicio=2025-12-22\"\" -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -c \"\"\nimport json,sys\ndata = json.load\\(sys.stdin\\)\nprint\\(\\\\\"\"Saldo Nuevo \\(Caja Chica\\):\\\\\"\", data[\\\\\"\"cajaChica\\\\\"\"][\\\\\"\"saldoNuevo\\\\\"\"]\\)\n\"\"\n\necho \"\"\"\"\necho \"\"=== AUDITORIA \\(Dic 2025\\) ===\"\"\ncurl -s \"\"http://localhost:3001/api/dashboard/auditoria?mes=12&anio=2025\"\" -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -c \"\"\nimport json,sys\ndata = json.load\\(sys.stdin\\)\nprint\\(\\\\\"\"Caja Chica:\\\\\"\", data[\\\\\"\"estadisticas\\\\\"\"][\\\\\"\"totalCajaChica\\\\\"\"]\\)\n\"\"\n\necho \"\"\"\"\necho \"\"=== RESUMEN MENSUAL \\(Dic 2025\\) ===\"\"\ncurl -s \"\"http://localhost:3001/api/dashboard/resumen-mensual?mes=12&anio=2025\"\" -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -c \"\"\nimport json,sys\ndata = json.load\\(sys.stdin\\)\nprint\\(\\\\\"\"Caja Chica:\\\\\"\", data[\\\\\"\"estadisticas\\\\\"\"][\\\\\"\"totalCajaChica\\\\\"\"]\\)\n\"\"\n\necho \"\"\"\"\necho \"\"=== RESUMEN ANUAL \\(2025\\) ===\"\"\ncurl -s \"\"http://localhost:3001/api/dashboard/resumen-anual?anio=2025\"\" -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -c \"\"\nimport json,sys\ndata = json.load\\(sys.stdin\\)\nprint\\(\\\\\"\"Caja Chica:\\\\\"\", data[\\\\\"\"estadisticas\\\\\"\"][\\\\\"\"totalCajaChica\\\\\"\"]\\)\n\"\"\n')",
      "Bash(/bin/bash -c '\nTOKEN=$\\(cat /tmp/token.txt\\)\ncurl -s \"\"\"\"http://localhost:3001/api/dashboard/auditoria?mes=12&anio=2025\"\"\"\" -H \"\"\"\"Authorization: Bearer $TOKEN\"\"\"\"\n')",
      "Bash(/bin/bash -c '\nTOKEN=$\\(cat /tmp/token.txt\\)\ncurl -s \"\"http://localhost:3001/api/dashboard/auditoria?mes=12&anio=2025\"\" -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -c \"\"\nimport json,sys\ndata = json.load\\(sys.stdin\\)\nif \\\\\"\"error\\\\\"\" in data:\n    print\\(\\\\\"\"Error:\\\\\"\", data[\\\\\"\"error\\\\\"\"]\\)\nelse:\n    stats = data.get\\(\\\\\"\"estadisticas\\\\\"\", {}\\)\n    print\\(\\\\\"\"=== AUDITORIA DIC 2025 ===\\\\\"\"\\)\n    print\\(\\\\\"\"Caja Chica:\\\\\"\", stats.get\\(\\\\\"\"totalCajaChica\\\\\"\", 0\\)\\)\n    print\\(\\\\\"\"Dias en auditoria:\\\\\"\", len\\(data.get\\(\\\\\"\"auditoria\\\\\"\", []\\)\\)\\)\n\"\"\n')",
      "Bash(/bin/bash -c '\nTOKEN=$\\(cat /tmp/token.txt\\)\ncurl -s \"\"http://localhost:3001/api/dashboard/auditoria?mes=12&anio=2025\"\" -H \"\"Authorization: Bearer $TOKEN\"\" | python3 << \"\"PYEOF\"\"\nimport json,sys\ndata = json.load\\(sys.stdin\\)\nstats = data.get\\(\"\"estadisticas\"\", {}\\)\nprint\\(\"\"=== ESTADISTICAS AUDITORIA ===\"\"\\)\nprint\\(\"\"Total Ventas:\"\", stats.get\\(\"\"totalVentas\"\", 0\\)\\)\nprint\\(\"\"Total Gastos:\"\", stats.get\\(\"\"totalGastos\"\", 0\\)\\)\nprint\\(\"\"Utilidad Neta:\"\", stats.get\\(\"\"utilidadNeta\"\", 0\\)\\)\nprint\\(\"\"Caja Chica:\"\", stats.get\\(\"\"totalCajaChica\"\", 0\\)\\)\nprint\\(\\)\nprint\\(\"\"Diferencia \\(Utilidad - Caja\\):\"\", stats.get\\(\"\"utilidadNeta\"\", 0\\) - stats.get\\(\"\"totalCajaChica\"\", 0\\)\\)\nPYEOF\n')",
      "Bash(/bin/bash -c '\n# Get fresh token\ncurl -s http://localhost:3001/api/auth/login -X POST -H \"\"Content-Type: application/json\"\" -d \"\"{\\\\\"\"email\\\\\"\":\\\\\"\"admin@hacienda.com\\\\\"\",\\\\\"\"password\\\\\"\":\\\\\"\"admin123\\\\\"\"}\"\" | python3 -c \"\"import json,sys; print\\(json.load\\(sys.stdin\\)[\\\\\"\"token\\\\\"\"]\\)\"\" > /tmp/token.txt\nTOKEN=$\\(cat /tmp/token.txt\\)\n\ncurl -s \"\"http://localhost:3001/api/dashboard/auditoria?mes=12&anio=2025\"\" -H \"\"Authorization: Bearer $TOKEN\"\" | python3 << \"\"PYEOF\"\"\nimport json,sys\ndata = json.load\\(sys.stdin\\)\nstats = data.get\\(\"\"estadisticas\"\", {}\\)\nprint\\(\"\"=== ESTADISTICAS AUDITORIA ===\"\"\\)\nprint\\(\"\"Total Ventas:\"\", stats.get\\(\"\"totalVentas\"\", 0\\)\\)\nprint\\(\"\"Total Gastos:\"\", stats.get\\(\"\"totalGastos\"\", 0\\)\\)\nprint\\(\"\"Utilidad Neta:\"\", stats.get\\(\"\"utilidadNeta\"\", 0\\)\\)\nprint\\(\"\"Caja Chica:\"\", stats.get\\(\"\"totalCajaChica\"\", 0\\)\\)\nprint\\(\\)\nprint\\(\"\"Diferencia:\"\", stats.get\\(\"\"utilidadNeta\"\", 0\\) - stats.get\\(\"\"totalCajaChica\"\", 0\\)\\)\nPYEOF\n')",
      "Bash(/bin/bash -c '\nTOKEN=$\\(python3 -c \"\"import json; print\\(json.load\\(open\\(\\\\\"\"/tmp/login.json\\\\\"\"\\)\\)[\\\\\"\"token\\\\\"\"]\\)\"\"\\)\ncurl -s \"\"http://localhost:3001/api/dashboard/auditoria?mes=12&anio=2025\"\" -H \"\"Authorization: Bearer $TOKEN\"\" > /tmp/audit_check.json\nhead -c 800 /tmp/audit_check.json\n')",
      "Bash(/bin/bash -c '\n# Login fresh\ncurl -s http://localhost:3001/api/auth/login -X POST -H \"\"Content-Type: application/json\"\" -d \"\"{\\\\\"\"email\\\\\"\":\\\\\"\"admin@hacienda.com\\\\\"\",\\\\\"\"password\\\\\"\":\\\\\"\"admin123\\\\\"\"}\"\" > /tmp/login.json\nTOKEN=$\\(python3 -c \"\"import json; print\\(json.load\\(open\\(\\\\\"\"/tmp/login.json\\\\\"\"\\)\\)[\\\\\"\"token\\\\\"\"]\\)\"\"\\)\n\n# Get audit\ncurl -s \"\"http://localhost:3001/api/dashboard/auditoria?mes=12&anio=2025\"\" -H \"\"Authorization: Bearer $TOKEN\"\" | python3 << \"\"PYEOF\"\"\nimport json,sys\ndata = json.load\\(sys.stdin\\)\nstats = data.get\\(\"\"estadisticas\"\", {}\\)\nprint\\(\"\"=== ESTADISTICAS CORREGIDAS ===\"\"\\)\nprint\\(\"\"Total Ventas:\"\", stats.get\\(\"\"totalVentas\"\", 0\\)\\)\nprint\\(\"\"Total Gastos:\"\", stats.get\\(\"\"totalGastos\"\", 0\\)\\)\nprint\\(\"\"Utilidad Neta:\"\", stats.get\\(\"\"utilidadNeta\"\", 0\\)\\)\nprint\\(\"\"Caja Chica:\"\", stats.get\\(\"\"totalCajaChica\"\", 0\\)\\)\nprint\\(\\)\nif stats.get\\(\"\"utilidadNeta\"\", 0\\) == stats.get\\(\"\"totalCajaChica\"\", 0\\):\n    print\\(\"\"✓ Utilidad Neta y Caja Chica COINCIDEN\"\"\\)\nelse:\n    print\\(\"\"✗ Diferencia:\"\", stats.get\\(\"\"utilidadNeta\"\", 0\\) - stats.get\\(\"\"totalCajaChica\"\", 0\\)\\)\nPYEOF\n')",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2NzExMjYzNywiZXhwIjoxNzY3NzE3NDM3fQ.DncJ_4rCSSvu8wDqfLPUWZPYqL1n_Hth87B4Fc-MqQY\" curl -s \"http://localhost:3001/api/dashboard/auditoria?mes=12&anio=2025\" -H \"Authorization: Bearer $TOKEN\")",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2NzExMjY2NywiZXhwIjoxNzY3NzE3NDY3fQ.gF8CTZJCNTPvauVoJ-RazJoHV_AfhEWc2_eGlGCXVuI\")",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2NzExMjY2NywiZXhwIjoxNzY3NzE3NDY3fQ.gF8CTZJCNTPvauVoJ-RazJoHV_AfhEWc2_eGlGCXVuI\" curl -s \"http://localhost:3001/api/dashboard/auditoria?mes=12&anio=2025\" -H \"Authorization: Bearer $TOKEN\")",
      "Bash(/bin/bash -c '\nTOKEN=\"\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiZW1haWwiOiJhZG1pbkBoYWNpZW5kYS5jb20iLCJyb2wiOiJhZG1pbiIsInN1Y3Vyc2FsSWQiOm51bGwsImlhdCI6MTc2NzExNDQyNiwiZXhwIjoxNzY3NzE5MjI2fQ.C8HPXdig4un1kr0LEX5VNr5Ua8vYgNvu0jAyzeXZ9AA\"\"\n\necho \"\"=== AUDITORIA \\(Dic 2025\\) ===\"\"\ncurl -s \"\"http://localhost:3001/api/dashboard/auditoria?mes=12&anio=2025\"\" -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -c \"\"\nimport json,sys\ndata = json.load\\(sys.stdin\\)\nstats = data.get\\(\\\\\"\"estadisticas\\\\\"\", {}\\)\nprint\\(\\\\\"\"Utilidad Neta:\\\\\"\", stats.get\\(\\\\\"\"utilidadNeta\\\\\"\", 0\\)\\)\nprint\\(\\\\\"\"Caja Chica:\\\\\"\", stats.get\\(\\\\\"\"totalCajaChica\\\\\"\", 0\\)\\)\n\"\"\n\necho \"\"\"\"\necho \"\"=== RESUMEN MENSUAL \\(Dic 2025\\) ===\"\"\ncurl -s \"\"http://localhost:3001/api/dashboard/resumen-mensual?mes=12&anio=2025\"\" -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -c \"\"\nimport json,sys\ndata = json.load\\(sys.stdin\\)\nstats = data.get\\(\\\\\"\"estadisticas\\\\\"\", {}\\)\nprint\\(\\\\\"\"Utilidad Neta:\\\\\"\", stats.get\\(\\\\\"\"utilidadNeta\\\\\"\", 0\\)\\)\nprint\\(\\\\\"\"Caja Chica:\\\\\"\", stats.get\\(\\\\\"\"totalCajaChica\\\\\"\", 0\\)\\)\n\"\"\n\necho \"\"\"\"\necho \"\"=== RESUMEN ANUAL \\(2025\\) ===\"\"\ncurl -s \"\"http://localhost:3001/api/dashboard/resumen-anual?anio=2025\"\" -H \"\"Authorization: Bearer $TOKEN\"\" | python3 -c \"\"\nimport json,sys\ndata = json.load\\(sys.stdin\\)\nstats = data.get\\(\\\\\"\"estadisticas\\\\\"\", {}\\)\nprint\\(\\\\\"\"Utilidad Neta:\\\\\"\", stats.get\\(\\\\\"\"utilidadNeta\\\\\"\", 0\\)\\)\nprint\\(\\\\\"\"Caja Chica:\\\\\"\", stats.get\\(\\\\\"\"totalCajaChica\\\\\"\", 0\\)\\)\n\"\"\n')",
      "WebFetch(domain:lahacienda.online)",
      "Bash(ping:*)"
    ]
  }
}
